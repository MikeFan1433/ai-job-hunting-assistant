# ğŸ”§ ä¿®å¤å¥åº·æ£€æŸ¥é—®é¢˜

## âŒ é—®é¢˜

éƒ¨ç½²çŠ¶æ€æ˜¾ç¤º `Unhealthy`ï¼ŒåŸå› æ˜¯ï¼š

1. **Dockerfile å¥åº·æ£€æŸ¥ä½¿ç”¨äº† `requests` åº“**
   - ä½† `requirements.txt` ä¸­æ²¡æœ‰ `requests`
   - åªæœ‰ `httpx`ï¼Œå¯¼è‡´å¥åº·æ£€æŸ¥å¤±è´¥

2. **å¯åŠ¨æ—¶é—´ä¸è¶³**
   - åŸæ¥çš„ `start-period=5s` å¤ªçŸ­
   - æœåŠ¡éœ€è¦æ›´å¤šæ—¶é—´å¯åŠ¨

## âœ… è§£å†³æ–¹æ¡ˆ

### ä¿®å¤ 1: ä½¿ç”¨ curl ä»£æ›¿ requests

```dockerfile
# ä¿®å¤å‰ï¼ˆé”™è¯¯ï¼‰
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
    CMD sh -c "python -c \"import requests, os; port = os.getenv('PORT', '8000'); requests.get(f'http://localhost:{port}/api/v1/health')\"" || exit 1

# ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰
HEALTHCHECK --interval=30s --timeout=10s --start-period=60s --retries=3 \
    CMD sh -c "port=\${PORT:-8000} && curl -f http://localhost:\${port}/api/v1/health || exit 1"
```

**ä¼˜åŠ¿**:
- âœ… `curl` å·²ç»åœ¨ Dockerfile ä¸­å®‰è£…
- âœ… ä¸éœ€è¦é¢å¤–çš„ Python åº“
- âœ… æ›´è½»é‡ã€æ›´å¯é 

### ä¿®å¤ 2: å¢åŠ å¯åŠ¨æ—¶é—´

- `start-period` ä» `5s` å¢åŠ åˆ° `60s`
- ç»™æœåŠ¡æ›´å¤šæ—¶é—´å®Œæˆåˆå§‹åŒ–å’Œå¯åŠ¨

## ğŸš€ é‡æ–°éƒ¨ç½²

ä¿®å¤å·²æäº¤å¹¶æ¨é€åˆ° GitHubï¼Œéœ€è¦é‡æ–°éƒ¨ç½²ï¼š

```bash
cd "AI Job Hunting Assistant"
python3 deploy_to_ai_builders.py
```

ä½¿ç”¨ç›¸åŒçš„ä¿¡æ¯ï¼š
- GitHub URL: `https://github.com/MikeFan1433/ai-job-hunting-assistant`
- Service Name: `ai-job-assistant`
- Branch: `main`

## ğŸ“‹ éªŒè¯

éƒ¨ç½²å®Œæˆåï¼Œæ£€æŸ¥å¥åº·çŠ¶æ€ï¼š

```bash
python3 check_deployment_status.py
```

æˆ–ç›´æ¥è®¿é—®ï¼š
- å¥åº·æ£€æŸ¥: https://ai-job-assistant.ai-builders.space/api/v1/health
- åº”ç”¨é¦–é¡µ: https://ai-job-assistant.ai-builders.space/

## ğŸ’¡ å…¶ä»–å¯èƒ½çš„é—®é¢˜

å¦‚æœä¿®å¤åä»ç„¶ Unhealthyï¼Œæ£€æŸ¥ï¼š

1. **ç«¯å£é…ç½®**
   - ç¡®ä¿æœåŠ¡ç›‘å¬åœ¨ `0.0.0.0:${PORT:-8000}`
   - âœ… å·²åœ¨ CMD ä¸­æ­£ç¡®é…ç½®

2. **å¥åº·æ£€æŸ¥ç«¯ç‚¹**
   - ç¡®ä¿ `/api/v1/health` ç«¯ç‚¹å­˜åœ¨
   - âœ… å·²åœ¨ `workflow_api.py` ä¸­å®šä¹‰

3. **æœåŠ¡å¯åŠ¨**
   - æ£€æŸ¥åº”ç”¨æ—¥å¿—
   - ç¡®ä¿æ²¡æœ‰å¯åŠ¨é”™è¯¯

4. **ä¾èµ–é—®é¢˜**
   - ç¡®ä¿æ‰€æœ‰ Python ä¾èµ–éƒ½æ­£ç¡®å®‰è£…
   - æ£€æŸ¥ `requirements.txt` æ˜¯å¦å®Œæ•´

---

**ä¿®å¤å·²å®Œæˆï¼Œè¯·é‡æ–°éƒ¨ç½²ï¼** ğŸ”„
